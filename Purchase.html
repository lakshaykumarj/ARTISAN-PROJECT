<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title>Artisans Purchase</title>
    <link rel="stylesheet" type="text/css" href="Add product.css">
    <link rel="stylesheet" type="text/css" href="iframe.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#form1").submit(function(event) {
                event.preventDefault(); // Prevent the default form submission

                // Get the display type from the form
                var displayType = $("input[name='displayType']:checked").val();
                var sellerName = $("input[name='sellerName']").val();

                // Construct the JSP URL based on the display type and seller name
                var jspUrl = "Purchase1.jsp?displayType=" + displayType;
                if (displayType === "Specific User") {
                    jspUrl += "&sellerName=" + sellerName;
                }

                var iframe = $('<iframe>', {
                    src: jspUrl,
                    frameborder: 1, // Add border to the iframe
                    width: '100%',
                    height: '100%',
                    css: {
                        overflow: 'auto' // Show vertical scrollbar when content exceeds iframe height
                    }
                });

                // Clear the previous content and append the new iframe
                $("#display").empty().append(iframe);

            });
            $("#form1").submit(function(event) {

            });
        })
    </script>
</head>

<body class="BGColor">
    <nav class="NavColor">
        <div id="nav1">
            <ul class="NavColor">
                <li><a href="http://localhost:8080//THE%20ONLY%20WEB%20APPLICATION%20TO%20BE%20TOUCHED%20HERE//display2.jsp">Display Data? Click here</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Privacy Policy</a></li>
            </ul>
        </div>

        <div id="nav2">
            <ul class="NavColor">
                <li><a href="#">Login</a></li>
                <li><a href="#">Crete new account</a></li>
            </ul>
        </div>
    </nav>

    <h3>
        Enter the first button to display all tables<br>Enter the second button with seller name to see specific details of his product:
    </h3>
    <form id="form1">
        <label for="sellerName">Seller name</label>
        <input type="text" name="sellerName">
        <span id="spacing"></span>
        <input type="radio" name="displayType" value="All Tables" required> All Tables
        <input type="radio" name="displayType" value="Specific User" required> Specific User
        <input type="submit" value="Show products">
    </form>
    <br><br><br>
    <div id="display">
        <iframe id="iframeDisplay" frameborder="0" width="0%" height="0" src=""></iframe>
    </div>

    <div id="container">
        <h1>
            Purchase a new product!<br> Enter the vendor name, product name, and Quantity
        </h1>
        <form id="form2" action="Purchase2.jsp" method="post">
            <span>
                <span>
                    <label for="sellerName">Seller name</label>
                    <input type="text" name="sellerName" required>
                </span>
            <span class="spacing"></span>
            <label for="productName">Product Name</label>
            <input type="text" name="productName" required><br>
            </span>
            <br><br><br>
            <label for="quantity">Quantity</label>
            <input type="text" name="quantity" required>
            <br>
            <br>
            <br>
            <input type="submit" value="Request vendor">
        </form>
    </div>
</body>

</body>

</html>